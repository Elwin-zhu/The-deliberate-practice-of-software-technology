## 网络分析工具

### ping

ping 命令用来测试主机之间网络的连通性。执行 ping 指令会使用 ICMP 传输协议，发出要求回应的信息，若远端主机的网络功能没有问题，就会回应该信息，因而得知该主机运作正常。

Linux 下 ping 数据包是 64 bytes，默认一直不断地发送数据包。

Windows 下 ping 数据包是 32 bytes，默认只发送 4 次数据包后结束。

### tcpdump

tcpdump 命令是一款 sniffer 工具，它可以打印所有经过网络接口的数据包的头信息，也可以使用 -w 选项将数据包保存到文件中，方便以后分析。

参数选项：

* 类型
* 传输方向
* 协议
* 逻辑运算

```
// 直接启动 tcpdump 将监视第一个网络接口上所有流过的数据包
tcpdump

// 监视指定网络接口 eth1 的数据包
tcpdump -i eth1

// 监视指定主机 192.168.1.1 的数据包
tcpdump host 192.168.1.1

// 截获主机 192.168.1.1 和主机 192.168.1.2 或 192.168.1.3 的通信
tcpdump host 192.168.1.1 and \( 192.168.1.2 or 192.168.1.3 \)

// 获取主机 192.168.1.1 与任何其他主机之间通信的 IP 数据包, 但不包括与 192.168.1.2 之间的数据包
tcpdump ip host 192.168.1.1 and ! 192.168.1.2

// 监视指定主机和端口的数据包
tcpdump tcp port 23 host 192.168.1.1

// 对本机的 udp 123 端口进行监视 123 为 ntp 的服务端口
tcpdump udp port 123

....

```

## netstat

netstat 命令用来打印 Linux 中网络系统的状态信息，可让你得知整个 Linux 系统的网络情况。

```
// 列出所有端口 (包括监听和未监听的)
netstat -a


```



